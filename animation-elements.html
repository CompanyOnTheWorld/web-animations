<!DOCTYPE html>
<!-- vim: set expandtab ts=2 sw=2 tw=80: -->
<html>
  <head>
    <title>Animation Elements 1.0</title>
    <meta charset="utf-8">
    <script src="respec/respec.js" class="remove"></script>
    <script src="respec/js/sh_html.min.js" class="remove"></script>
    <script class='remove'>
      var respecConfig = {
        // specification status (e.g. WD, LCWD, NOTE, etc.). If in doubt use
        // ED.
        specStatus: "unofficial",

        // the specification's short name, as in
        // http://www.w3.org/TR/short-name/
        // shortName:            "animation-elements",

        // if your specification has a subtitle that goes below the main
        // formal title, define it here
        // subtitle   :  "an excellent document",

        // if you wish the publication date to be other than today, set this
        // publishDate:  "2009-08-06",

        // if the specification's copyright date is a range of years, specify
        // the start date here:
        // copyrightStart: "2005"

        // if there is a previously published draft, uncomment this and set
        // its YYYY-MM-DD date and its maturity status
        // previousPublishDate: "1977-03-15",
        // previousMaturity: "WD",

        // if there a publicly available Editor's Draft, this is the link
        // edDraftURI:
        // "http://dev.w3.org/2009/dap/ReSpec.js/documentation.html",

        // if this is a LCWD, uncomment and set the end of its review period
        // lcEnd: "2009-08-05",

        // if you want to have extra CSS, append them to this list
        // it is recommended that the respec.css stylesheet be kept
        extraCSS: ["http://dev.w3.org/2009/dap/ReSpec.js/css/respec.css",
                   "web-animations.css"],

        // Turning off inlineCSS for now since if extraCSS points to
        // a relative URL your testing from a file URL the XHR will fail.
        // Probably should turn this back on once this is hosted on a server
        // somewhere.
        inlineCSS: false,

        // editors, add as many as you like
        // only "name" is required
        editors:  [
            { name: "Brian Birtles", mailto: "bbirtles@mozilla.com",
              company: "Mozilla Japan", companyURL: "http://mozilla.jp/" }
        ],

        // authors, add as many as you like.
        // This is optional, uncomment if you have authors as well as editors.
        // only "name" is required. Same format as editors.

        //authors:  [
        //    { name: "Your Name", url: "http://example.org/",
        //      company: "Your Company", companyURL: "http://example.com/" },
        //],

        // XXX If we continue using ReSpec then we need to tweak it to support
        // multiple working groups. It includes updating the patent section
        // prose to say "groups" instead of "group" etc.
        // name of the WG
        wg: "SVG Working Group (part of the Graphics Activity)",

        // URI of the public WG page
        wgURI: "http://www.w3.org/Graphics/",

        // name (without the @w3c.org) of the public mailing to which comments
        // are due
        wgPublicList: "public-fx",

        // URI of the patent status for this WG, for Rec-track documents
        // !!!! IMPORTANT !!!!
        // This is important for Rec-track documents, do not copy a patent URI
        // from a random document unless you know what you're doing. If in
        // doubt ask your friendly neighbourhood Team Contact.
        wgPatentURI:  "",

        noIDLSorting: true,
        noIDLIn: true
      };
    </script>
  </head>
  <body>
    <section id='abstract'>
      This specification defines an element-based markup for defining
      animation and time-related changes to a Web page.
      It is intended to replace the animation features of <a
      href="http://www.w3.org/TR/SVG11/">SVG 1.1</a> by building on the model
      defined in <a href="http://www.w3.org/TR/web-animations/">Web
      Animations</a>.
    </section>

    <section>
      <h2>Introduction</h2>
      <p class="todo">TBD</p>
      <section class="informative">
        <h2>Use cases</h2>
        <h4>Timesheets</h4>
        <p>
          For applications that involve complex sequencing of effects it is
          often convenient to separate the temporal markup into a separate
          subtree or document sometimes referred to as a &ldquo;timesheet&rdquo;
        </p>
        <p>
          Such a &ldquo;timesheet&rdquo; may define animations directly or
          simply set classes and define the animation effects using, for
          example, CSS Animations [[CSS3-ANIMATIONS]].
        </p>
        <p>
          For example,
        </p>
        <pre class='example sh_html'>
 &lt;!-- TODO --&gt;
        </pre>
        <p>
          The triggers for these effects can be defined declaratively as in
          the example above or they can be applied using script (see the
          <code>playWith</code> method).
        </p>
        <h4>Frame-based animation</h4>
        <p>
          Sometimes, rather than smoothly tweening values, it is desirable to
          overlay a series of independent images in quick succession.
        </p>
        <p>
          For example, a children's workshop teaching animation principles
          allows children to draw a series of similar images and then show and
          hide them in turn creating the illusion of movement.
        </p>
        <p>
          Supposing each drawn image is contained in an SVG
          <code>&lt;g&gt;</code> element, the animation could be produced as
          follows:
        </p>
        <pre class='example sh_html'>
  &lt;!-- Graphical content --&gt;
  &lt;g class="frame" visibility="hidden"&gt;&hellip;&lt;/g&gt;
  &lt;g class="frame" visibility="hidden"&gt;&hellip;&lt;/g&gt;
  &lt;g class="frame" visibility="hidden"&gt;&hellip;&lt;/g&gt;
  &lt;g class="frame" visibility="hidden"&gt;&hellip;&lt;/g&gt;

  &lt;!-- Timing --&gt;
  &lt;seq repeatCount="indefinite"&gt;
    &lt;set select=".frame" dur="0.2s" attributeName="visibility" to="visible"/&gt;
  &lt;/seq&gt;
        </pre>
        <h4>Animated user interface widgets</h4>
        <p>
          User interface widgets are often accompanied by animated effects that
          provides affordances to the user.
          These effects should be defined in a manner that allows re-use across
          a variety of similar widgets.
        </p>
        <p>
          For example, following is a re-usable definition of mouse hover
          effects applied to some content representing a button.
        </p>
        <pre class='example sh_html'>
&lt;!-- A button-like object --&gt;
&lt;g role="button"&gt;
  &lt;rect &hellip; /&gt;
  &lt;text filter="child"&gt;
    &lt;filter &hellip; /&gt;&hellip;&lt;feGaussianBlur &hellip; /&gt;&lt;/filter&gt;
    Button label
  &lt;/text&gt;
&lt;/g&gt;

&lt;!-- A complex mouse over effect --&gt;
&lt;par select="g[role=button]" begin="mouseover" cancel="mouseout"&gt;
  &lt;!-- Tween background color of button --&gt;
  &lt;animate select="rect" attributeName="fill" to="blue" dur="0.3s" fill="forwards"/&gt;
  &lt;seq&gt;
    &lt;!-- Wiggle text to the side --&gt;
    &lt;animate select="text" attributeName="transform" dur="0.3s"
      additive="sum" values="translate(-10); translate(0)"/&gt;
    &lt;!-- Then make it glow by tweaking part of the filter --&gt;
    &lt;animate select="feGaussianBlur" attributeName="stdDeviation"
      from="0" to="2" fill="forwards" dur="0.3s"/&gt;
  &lt;/seq&gt;
&lt;/par&gt;

&lt;!-- Fade out button background on mouseout --&gt;
&lt;animate select=".button rect" begin="mouseout" attributeName="fill"
  from="blue" to="navy" dur="0.3s"/&gt;
        </pre>
        <h4>Ad-hoc declarative animation</h4>
        <p>
          When performing DOM manipulation, it is often useful to attach
          animation to an element in such a form that it can be serialized for
          later playback.
        </p>
        <p>
          For example, a presentation authoring tool allows a user to select
          items on a slide and cause them to fade in at different times.
          This could be achieved by annotating the element in question as
          follows:
        </p>
        <pre class='example sh_html'>
&lt;image&gt;
  &lt;animate begin="3s" dur="1s" attributeName="opacity" to="1" fill="forwards"/&gt;
&lt;/image&gt;
        </pre>
        <p>
          Which is significantly easier to generate and re-parse (for round-trip
          authoring) than the equivalent CSS:
        </p>
        <pre class='example sh_html'>
&lt;image&gt;
  &lt;style scoped&gt;
    image {
      animation: fadeIn 1s 3s forwards;
    }
    @keyframes fadeIn {
      to {
        opacity: 100%;
      }
    }
  &lt;/style&gt;
&lt;/image&gt;
        </pre>
      </section>
      <section>
        <h2>Relationship to SVG 1.1 Animation</h2>
      </section>
      <section>
        <h2>Relationship to SMIL Animation</h2>
      </section>
      <section>
        <h2>Relationship to Web Animations</h2>
      </section>
    </section>

    <section>
      <h2>Timed elements</h2>
      <section>
        <h2>Introduction</h2>
      </section>
      <section>
        <h2>Namespace</h2>
      </section>
      <section>
        <h2>Attributes to identify the target element for a timed element</h2>
      </section>
      <section>
        <h2>Attributes to control the triggering of timed elements</h2>
      </section>
      <section>
        <h2>Attributes to control timing</h2>
      </section>
      <section>
        <h2>Animation elements</h2>
        <section>
          <h2>Attributes to identify the target attribute or property for an
              animation</h2>
        </section>
        <section>
          <h2>Attributes that define animation values over time</h2>
        </section>
        <section>
          <h2>Attributes that control whether animations are additive</h2>
        </section>
        <section>
          <h2>Elements, attributes and properties that can be animated</h2>
        </section>
        <section>
          <h2>The <code>&lsquo;animate&rsquo;</code> element</h2>
        </section>
        <section>
          <h2>The <code>&lsquo;set&rsquo;</code> element</h2>
        </section>
        <section>
          <h2>The <code>&lsquo;animateMotion&rsquo;</code> element</h2>
        </section>
        <section>
          <h2>The <code>&lsquo;animateTransform&rsquo;</code> element</h2>
          <p>Deprecated.</p>
        </section>
      </section>
      <section>
        <h2>Timing group elements</h2>
        <section>
          <h2>The <code>&lsquo;par&rsquo;</code> element</h2>
        </section>
        <section>
          <h2>The <code>&lsquo;seq&rsquo;</code> element</h2>
        </section>
      </section>
      <section>
        <h2>Structural elements</h2>
        <section>
          <h2>The <code>&lsquo;discard&rsquo;</code> element</h2>
        </section>
      </section>
      <section>
        <h2>Deprecated elements</h2>
        <section>
          <h2>The <code>&lsquo;animateTransform&rsquo;</code> element</h2>
        </section>
      </section>
    </section>

    <section>
      <h2>Integration with SVG</h2>
      <section>
        <h2>Start of the timeline</h2>
      </section>
      <section>
        <h2>The <code>&lsquo;svg&rsquo;</code> element</h2>
      </section>
      <section>
        <h2>Reclaiming resources</h2>
      </section>
      <section>
        <h2>Animations in elements referenced by a
            <code>&lsquo;use&rsquo;</code> element</h2>
        <p class="issue">
          Can you have <code>&lt;use&gt;</code> elements inside
          a <code>&lt;par&gt;</code> or <code>&lt;seq&gt;</code> that pull in
          other animation elements?
        </p>
        <p class="issue">
          What is the behavior in general?
        </p>
      </section>
      <section>
        <h2>Integration with Media Fragments</h2>
        <p>
          The Media Fragments specification [[!MEDIA-FRAGMENTS]] defines a means
          for addressing a temporal range of a media resource.
          The application of the temporal parameters to documents with the <a
          href="http://www.w3.org/TR/SVG/intro.html#MIMEType">SVG MIME type</a> 
          [[!SVG11] is as follows.
        </p>
        <ul>
          <li>If there is a begin time, seek the document controller to
              the begin time at the earliest of two moments: when the document
              begins to play or document load.
              <p class="note">
                Note that seeking behavior is well-defined even when the
                document has yet to start.
              </p>
          </li>
          <li>If there is an end time, set a flag on the controller to say
              auto-pause at the given time.</li>
          <li>Any calls to seek / pause / play etc. on that controller clear the
              flag.</li>
          <li>If the controller reaches (or passes) the end time and the flag is
              still set, call pause and clear the flag.</li>
        </ul>
        <p class="todo">
          What happens if the fragment is changed after the document has loaded
        </p>
        <p class="note">
          Note that media fragments are defined to operate on resources based on
          their MIME type.
          As a result, temporal addressing may not have any effect for SVG
          content that is served in a document with a MIME type other than the
          SVG MIME type such as SVG embedded in HTML.
        </p>
      </section>
    </section>

    <section>
      <h2>Resources in other documents</h2>
      <div class="todo">
        <p>
          Need to define the document time used when:
        </p>
        <ul>
          <li>You have an animation element in a separate
              document&mdash;presumably you should use the document time of the
              target elements.</li>
          <li>What if you put a filter in a separate document and then pull it
              in?</li>
          <li>Likewise for clip paths, images referenced by image, iframe, use
              etc.</li>
        </ul>
      </div>
    </section>

    <section>
      <h2>DOM interfaces</h2>
      <section>
        <h2>The <code>TimedElement</code> interface</h2>
        <p>
          <dl title="interface TimedElement : Element" class="idl">
          </dl>
        </p>
        <div class="issue">
          <p>
            Need to add <code>ownerSVGElement</code> from
            <code>SVGElement</code> interface?
          </p>
          <p>
            Add other attributes from <code>SVGElement</code> for backwards
            compatibility?
          </p>
        </div>
      </section>
      <section>
        <h2>The <code>AnimationElement</code> interface</h2>
        <p>
          <dl title="interface AnimationElement : TimedElement" class="idl">
          </dl>
        </p>
      </section>
      <section>
        <h2>Reflecting changes to the DOM</h2>
      </section>
    </section>
  </body>
</html>
